"use strict";(self.webpackChunkaxiom_loom_catalog=self.webpackChunkaxiom_loom_catalog||[]).push([[186],{77805:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var l=t(65043),i=t(73216),r=t(35475),a=t(72362),n=t(70579);const c=e=>{const s=(e.split("/").pop()||e).replace(/\.(yaml|yml|json|graphql|gql|proto)$/i,"").replace(/[-_]/g," ").replace(/api/gi,"API").replace(/openapi/gi,"OpenAPI").replace(/swagger/gi,"Swagger").replace(/spec/gi,"Spec").replace(/schema/gi,"Schema").replace(/\b(\w)/g,e=>e.toUpperCase());return s.length>40?s.substring(0,37)+"...":s},o=()=>{var e,s,t,o;const{repoName:d}=(0,i.g)(),[x,p]=(0,l.useState)(!0),[h,m]=(0,l.useState)(null),[g,u]=(0,l.useState)([]),[v,j]=(0,l.useState)(null),[f,b]=(0,l.useState)(null),[N,y]=(0,l.useState)("overview");(0,l.useEffect)(()=>{(async()=>{try{var e,s,t;p(!0);const l=await fetch((0,a.e9)(`/api/repository/${d}/apis`));if(!l.ok)throw new Error("Failed to detect APIs");const i=await l.json();b(i);const r=[];null!==(e=i.apis)&&void 0!==e&&e.rest&&i.apis.rest.forEach(e=>{r.push({type:"rest",file:e.file,title:e.title||"REST API",version:e.version,description:e.description})}),null!==(s=i.apis)&&void 0!==s&&s.graphql&&i.apis.graphql.forEach(e=>{r.push({type:"graphql",file:e.file,title:"GraphQL API",schema:e.schema})}),null!==(t=i.apis)&&void 0!==t&&t.grpc&&i.apis.grpc.forEach(e=>{r.push({type:"grpc",file:e.file,title:e.serviceName||"gRPC Service",services:e.services})}),u(r),r.length>0&&j(r[0])}catch(l){m(l instanceof Error?l.message:"Unknown error")}finally{p(!1)}})()},[d]);const w=e=>{switch(e){case"rest":return"\ud83d\udd0c";case"graphql":return"\ud83d\udd0d";case"grpc":return"\u26a1";default:return"\ud83d\udce1"}},P=e=>{switch(e){case"rest":return"text-blue-400";case"graphql":return"text-pink-400";case"grpc":return"text-green-400";default:return"text-gray-400"}};return x?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"text-gray-400",children:"Loading API documentation..."})}):h?(0,n.jsxs)("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-red-400 font-semibold mb-2",children:"Error loading API documentation"}),(0,n.jsx)("p",{className:"text-red-300",children:h})]}):(0,n.jsxs)("div",{className:"api-documentation-hub p-8 max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)(r.N_,{to:`/repository/${d}`,className:"text-blue-400 hover:text-blue-300 mb-4 inline-block",children:["\u2190 Back to ",d]}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"\ud83d\udcda API Documentation Hub"}),(0,n.jsxs)("p",{className:"text-gray-300",children:["Comprehensive API documentation and exploration for ",d]})]}),(0,n.jsxs)("div",{className:"flex space-x-1 mb-6 bg-gray-800 rounded-lg p-1",children:[(0,n.jsx)("button",{onClick:()=>y("overview"),className:"flex-1 px-4 py-2 rounded-md font-medium transition-colors "+("overview"===N?"bg-gray-700 text-white":"text-gray-400 hover:text-white"),children:"Overview"}),(0,n.jsx)("button",{onClick:()=>y("explorer"),className:"flex-1 px-4 py-2 rounded-md font-medium transition-colors "+("explorer"===N?"bg-gray-700 text-white":"text-gray-400 hover:text-white"),children:"API Explorer"}),(0,n.jsx)("button",{onClick:()=>y("postman"),className:"flex-1 px-4 py-2 rounded-md font-medium transition-colors "+("postman"===N?"bg-gray-700 text-white":"text-gray-400 hover:text-white"),children:"Postman"}),(0,n.jsx)("button",{onClick:()=>y("graphql"),className:"flex-1 px-4 py-2 rounded-md font-medium transition-colors "+("graphql"===N?"bg-gray-700 text-white":"text-gray-400 hover:text-white"),children:"GraphQL"})]}),(0,n.jsxs)("div",{children:["overview"===N&&(()=>{var e,s,t,l,i,r;return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"REST APIs"}),(0,n.jsx)("span",{className:"text-3xl",children:"\ud83d\udd0c"})]}),(0,n.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:(null===f||void 0===f||null===(e=f.apis)||void 0===e||null===(s=e.rest)||void 0===s?void 0:s.length)||0}),(0,n.jsx)("p",{className:"text-gray-400 mt-2",children:"OpenAPI/Swagger"})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"GraphQL APIs"}),(0,n.jsx)("span",{className:"text-3xl",children:"\ud83d\udd0d"})]}),(0,n.jsx)("p",{className:"text-3xl font-bold text-pink-400",children:(null===f||void 0===f||null===(t=f.apis)||void 0===t||null===(l=t.graphql)||void 0===l?void 0:l.length)||0}),(0,n.jsx)("p",{className:"text-gray-400 mt-2",children:"Schema definitions"})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"gRPC Services"}),(0,n.jsx)("span",{className:"text-3xl",children:"\u26a1"})]}),(0,n.jsx)("p",{className:"text-3xl font-bold text-green-400",children:(null===f||void 0===f||null===(i=f.apis)||void 0===i||null===(r=i.grpc)||void 0===r?void 0:r.length)||0}),(0,n.jsx)("p",{className:"text-gray-400 mt-2",children:"Protocol buffers"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Available API Specifications"}),(0,n.jsx)("div",{className:"space-y-3",children:g.map((e,s)=>(0,n.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all "+(v===e?"border-blue-500 bg-blue-900/20":"border-gray-700 hover:border-gray-600"),onClick:()=>j(e),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("span",{className:`text-2xl ${P(e.type)}`,children:w(e.type)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white font-medium",children:e.title||c(e.file)}),(0,n.jsx)("p",{className:"text-gray-400 text-sm",title:e.file,children:c(e.file)})]})]}),e.version&&(0,n.jsxs)("span",{className:"text-gray-400 text-sm",children:["v",e.version]})]}),e.description&&(0,n.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:e.description})]},s))}),0===g.length&&(0,n.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No API specifications found in this repository"})]})]})})(),"explorer"===N&&(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"API Explorer"}),v?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h4",{className:"text-lg font-medium text-white mb-2",children:v.title||c(v.file)}),(0,n.jsx)("p",{className:"text-gray-400",title:v.file,children:c(v.file)})]}),"rest"===v.type&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,n.jsx)("p",{className:"text-gray-300 mb-2",children:"This REST API specification can be explored using the integrated Swagger UI."}),(0,n.jsx)(r.N_,{to:`/api-explorer/${d}?spec=${encodeURIComponent(v.file)}`,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors",children:"Open in API Explorer \u2192"})]})}),"graphql"===v.type&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,n.jsx)("p",{className:"text-gray-300 mb-2",children:"Explore this GraphQL schema with the integrated GraphiQL interface."}),(0,n.jsx)(r.N_,{to:`/graphql/${d}?schema=${encodeURIComponent(v.file)}`,className:"inline-flex items-center px-4 py-2 bg-pink-600 hover:bg-pink-700 rounded-lg text-white transition-colors",children:"Open in GraphiQL \u2192"})]})}),"grpc"===v.type&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[(0,n.jsx)("h5",{className:"text-white font-medium mb-2",children:"gRPC Services:"}),(0,n.jsx)("pre",{className:"text-gray-300 text-sm overflow-x-auto",children:JSON.stringify(v.services,null,2)})]})})]}):(0,n.jsx)("p",{className:"text-gray-400 text-center py-8",children:"Select an API specification to explore"})]}),"postman"===N&&(()=>{var e,s,t,l;return(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Postman Collections"}),(0,n.jsx)("div",{className:"space-y-4",children:(null!==(e=null===f||void 0===f||null===(s=f.apis)||void 0===s||null===(t=s.rest)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0&&null!==f&&void 0!==f&&null!==(l=f.apis)&&void 0!==l&&l.rest?f.apis.rest.filter(e=>e.file.endsWith(".postman_collection.json")).map((e,s)=>(0,n.jsx)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white font-medium",children:e.name||c(e.file)}),(0,n.jsx)("p",{className:"text-gray-400 text-sm",title:e.file,children:c(e.file)})]}),(0,n.jsx)(r.N_,{to:`/postman/${d}?collection=${encodeURIComponent(e.file)}`,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white transition-colors",children:"View Collection"})]})},s)):(0,n.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No Postman collections found in this repository"})})]})})(),"graphql"===N&&(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"GraphQL APIs"}),(0,n.jsx)("div",{className:"space-y-4",children:(null!==(e=null===f||void 0===f||null===(s=f.apis)||void 0===s||null===(t=s.graphql)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0&&null!==f&&void 0!==f&&null!==(o=f.apis)&&void 0!==o&&o.graphql?f.apis.graphql.map((e,s)=>(0,n.jsx)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white font-medium",children:"GraphQL Schema"}),(0,n.jsx)("p",{className:"text-gray-400 text-sm",children:e.file})]}),(0,n.jsx)(r.N_,{to:`/graphql/${d}?schema=${encodeURIComponent(e.file)}`,className:"px-4 py-2 bg-pink-600 hover:bg-pink-700 rounded-lg text-white transition-colors",children:"Open GraphiQL"})]})},s)):(0,n.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No GraphQL schemas found in this repository"})})]})]}),(0,n.jsxs)("div",{className:"mt-8 bg-blue-900/20 border border-blue-800 rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"text-blue-400 font-semibold mb-3",children:"\u2139\ufe0f API Documentation Features"}),(0,n.jsxs)("ul",{className:"text-blue-300 space-y-2 text-sm",children:[(0,n.jsx)("li",{children:"\u2022 Automatic detection of REST (OpenAPI/Swagger), GraphQL, and gRPC APIs"}),(0,n.jsx)("li",{children:"\u2022 Interactive API Explorer for testing endpoints"}),(0,n.jsx)("li",{children:"\u2022 Postman collection viewer for API testing workflows"}),(0,n.jsx)("li",{children:"\u2022 GraphiQL interface for GraphQL schema exploration"}),(0,n.jsx)("li",{children:"\u2022 Support for multiple API specifications per repository"})]})]})]})}}}]);
//# sourceMappingURL=186.56c31e6a.chunk.js.map