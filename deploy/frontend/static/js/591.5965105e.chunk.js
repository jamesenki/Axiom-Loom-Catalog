"use strict";(self.webpackChunkeyns_ai_experience_center=self.webpackChunkeyns_ai_experience_center||[]).push([[591],{89591:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var t=a(65043),r=a(73216),n=a(35475),i=a(70579);const l=e=>{let{repositoryName:s,className:a=""}=e;const[r,n]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[o,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{p()},[s]);const p=async()=>{try{c(!0),d(null);const e=await fetch(`/api/repository/${s}/detect-apis`);if(!e.ok)throw new Error("Failed to detect APIs");const a=await e.json();n(a)}catch(e){d(e instanceof Error?e.message:"Failed to detect APIs")}finally{c(!1)}},h=()=>{window.open(`/swagger/${s}`,"_blank")},m=()=>{window.open(`/graphql/${s}`,"_blank")},g=()=>{window.open(`/grpc/${s}`,"_blank")},x=()=>{window.open(`/api/postman/${s}`,"_blank")},u=()=>{window.location.href=`/api-hub/${s}`};if(l)return(0,i.jsxs)("div",{className:`flex items-center justify-center p-4 ${a}`,children:[(0,i.jsx)("div",{"data-testid":"loading-spinner",className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,i.jsx)("span",{className:"ml-2 text-gray-600",children:"Detecting available APIs..."})]});if(o)return(0,i.jsxs)("div",{className:`p-4 bg-red-50 border border-red-200 rounded-lg ${a}`,children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"text-red-500 mr-2",children:"\u26a0\ufe0f"}),(0,i.jsxs)("span",{className:"text-red-700",children:["Error detecting APIs: ",o]})]}),(0,i.jsx)("button",{onClick:p,className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Retry"})]});if(!r||!r.hasAnyApis)return(0,i.jsx)("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg ${a}`,children:(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,i.jsx)("span",{className:"mr-2",children:"\ud83d\udcda"}),(0,i.jsx)("span",{children:"Documentation-focused repository (no API specifications detected)"})]})});const b=(()=>{if(!r)return[];const e=[];return r.recommendedButtons.forEach(s=>{switch(s){case"swagger":e.push({type:"swagger",label:`Swagger UI (${r.apis.rest.length} APIs)`,icon:"\ud83d\udccb",color:"bg-green-500 hover:bg-green-600",description:"Explore REST/OpenAPI specifications",onClick:h});break;case"graphql":e.push({type:"graphql",label:`GraphQL Playground (${r.apis.graphql.length} schemas)`,icon:"\ud83d\udd2e",color:"bg-pink-500 hover:bg-pink-600",description:"Explore GraphQL schemas and run queries",onClick:m});break;case"grpc":e.push({type:"grpc",label:`gRPC UI (${r.apis.grpc.length} services)`,icon:"\u26a1",color:"bg-blue-500 hover:bg-blue-600",description:"Explore gRPC service definitions",onClick:g});break;case"postman":const s=r.apis.rest.length+r.apis.graphql.length+r.apis.grpc.length;e.push({type:"postman",label:`Postman Collection (${s} APIs)`,icon:"\ud83d\udcee",color:"bg-orange-500 hover:bg-orange-600",description:"Download Postman collection for API testing",onClick:x})}}),e.length>0&&e.unshift({type:"api-hub",label:"\ud83d\udcda API Documentation Hub",icon:"\ud83d\udcda",color:"bg-purple-600 hover:bg-purple-700",description:"Comprehensive API documentation and exploration",onClick:u}),e})();return(0,i.jsxs)("div",{className:`space-y-3 ${a}`,children:[(0,i.jsxs)("div",{className:"flex items-center mb-3",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"API Tools:"}),(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:[r.apis.rest.length," REST \u2022 ",r.apis.graphql.length," GraphQL \u2022 ",r.apis.grpc.length," gRPC"]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(e=>(0,i.jsxs)("button",{onClick:e.onClick,className:`\n              flex items-center justify-center px-4 py-3 rounded-lg text-white font-medium\n              transition-colors duration-200 shadow-sm hover:shadow-md\n              ${e.color}\n            `,title:e.description,"data-testid":`${e.type}-button`,children:[(0,i.jsx)("span",{className:"mr-2 text-lg",children:e.icon}),(0,i.jsx)("span",{className:"text-sm",children:e.label})]},e.type))}),(0,i.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"API Summary"}),(0,i.jsxs)("div",{className:"space-y-1 text-xs text-blue-700",children:[r.apis.rest.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("strong",{children:["REST APIs (",r.apis.rest.length,"):"]})," ",r.apis.rest.slice(0,3).map(e=>e.title||e.file.split("/").pop()).join(", "),r.apis.rest.length>3&&` and ${r.apis.rest.length-3} more`]}),r.apis.graphql.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("strong",{children:["GraphQL Schemas (",r.apis.graphql.length,"):"]})," ",r.apis.graphql.slice(0,3).map(e=>e.file.split("/").pop()).join(", "),r.apis.graphql.length>3&&` and ${r.apis.graphql.length-3} more`]}),r.apis.grpc.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("strong",{children:["gRPC Services (",r.apis.grpc.length,"):"]})," ",r.apis.grpc.slice(0,3).map(e=>e.services.join(", ")).join(", "),r.apis.grpc.length>3&&` and ${r.apis.grpc.length-3} more`]})]})]})]})};var c=a(65469),o=a(16784),d=a(687),p=a(28646),h=a(57856);const m=()=>{const{repoName:e}=(0,r.g)(),[s,a]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{if(e)try{g(!0);const s=await fetch(`/api/repository/${e}`);if(s.ok){const e=await s.json();a(e)}}catch(s){}finally{g(!1)}})()},[e]),m?(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),(0,i.jsx)("p",{children:"Loading repository details..."})]})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)(n.N_,{to:"/repositories",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6 transition-colors",children:[(0,i.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Back to Repositories"]}),(0,i.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,i.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o.A,{className:"w-8 h-8 text-blue-400 mr-3"}),(0,i.jsx)("h1",{className:"text-3xl font-bold",children:e})]})}),s&&(0,i.jsxs)(i.Fragment,{children:[s.description&&(0,i.jsx)("p",{className:"text-gray-300 mb-4",children:s.description}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[s.language&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.language]}),s.default_branch&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.A,{className:"w-4 h-4 mr-1"}),s.default_branch]}),s.updated_at&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Last updated: ",new Date(s.updated_at).toLocaleDateString()]})]}),s.topics&&s.topics.length>0&&(0,i.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:s.topics.map((e,s)=>(0,i.jsx)("span",{className:"px-3 py-1 bg-blue-900 bg-opacity-30 text-blue-300 text-xs rounded-full",children:e},s))})]})]}),(0,i.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,i.jsx)(h.A,{className:"w-5 h-5 mr-2"}),"Available API Tools"]}),e&&(0,i.jsx)(l,{repositoryName:e})]}),(0,i.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Documentation"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(n.N_,{to:`/repository/${e}/docs`,className:"block p-4 bg-gray-700 rounded hover:bg-gray-600 transition-colors",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{children:"View Documentation"}),(0,i.jsx)("span",{className:"text-gray-400",children:"\u2192"})]})}),(0,i.jsx)(n.N_,{to:`/repository/${e}/readme`,className:"block p-4 bg-gray-700 rounded hover:bg-gray-600 transition-colors",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{children:"README.md"}),(0,i.jsx)("span",{className:"text-gray-400",children:"\u2192"})]})})]})]})]})})}}}]);
//# sourceMappingURL=591.5965105e.chunk.js.map