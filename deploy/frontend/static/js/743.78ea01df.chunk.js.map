{"version":3,"file":"static/js/743.78ea01df.chunk.js","mappings":"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","sources":["components/SwaggerViewer.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useSearchParams, Link } from 'react-router-dom';\n// @ts-ignore - swagger-ui-react doesn't have TypeScript definitions\nimport SwaggerUI from 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport styled from 'styled-components';\nimport { ArrowLeft, FileCode, Download, ExternalLink } from 'lucide-react';\nimport { theme } from '../styles/design-system';\nimport { getApiUrl } from '../utils/apiConfig';\nimport {\n  Container,\n  Section,\n  H1,\n  Text,\n  Button,\n  Card,\n  CardHeader,\n  CardTitle,\n  CardContent,\n  Flex,\n  Badge,\n  FullPageLoading\n} from './styled';\n\nconst PageHeader = styled.div`\n  background: linear-gradient(135deg, ${props => props.theme.colors.primary.black} 0%, ${props => props.theme.colors.secondary.darkGray} 100%);\n  padding: ${props => props.theme.spacing[12]} 0;\n  margin-bottom: ${props => props.theme.spacing[8]};\n`;\n\nconst BackButton = styled(Button)`\n  margin-bottom: ${props => props.theme.spacing[6]};\n  background: transparent;\n  border: 1px solid ${props => props.theme.colors.primary.yellow};\n  color: ${props => props.theme.colors.primary.yellow};\n  \n  &:hover {\n    background: ${props => props.theme.colors.primary.yellow};\n    color: ${props => props.theme.colors.primary.black};\n  }\n`;\n\nconst SwaggerContainer = styled.div`\n  background: ${props => props.theme.colors.background.primary};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  box-shadow: ${props => props.theme.shadows.lg};\n  overflow: hidden;\n  \n  .swagger-ui {\n    .topbar {\n      display: none;\n    }\n    \n    .info {\n      margin-bottom: ${props => props.theme.spacing[8]};\n      \n      .title {\n        color: ${props => props.theme.colors.primary.black};\n        font-family: ${props => props.theme.typography.fontFamily.primary};\n      }\n    }\n    \n    .scheme-container {\n      background: ${props => props.theme.colors.background.secondary};\n      padding: ${props => props.theme.spacing[4]};\n      border-radius: ${props => props.theme.borderRadius.md};\n    }\n    \n    .btn {\n      background: ${props => props.theme.colors.primary.yellow};\n      color: ${props => props.theme.colors.primary.black};\n      border: none;\n      font-weight: ${props => props.theme.typography.fontWeight.semibold};\n      \n      &:hover {\n        background: ${props => props.theme.colors.primary.black};\n        color: ${props => props.theme.colors.primary.yellow};\n      }\n    }\n    \n    .opblock {\n      border-radius: ${props => props.theme.borderRadius.md};\n      margin-bottom: ${props => props.theme.spacing[4]};\n      \n      &.opblock-get {\n        border-color: #61affe;\n        \n        .opblock-summary-method {\n          background: #61affe;\n        }\n      }\n      \n      &.opblock-post {\n        border-color: #49cc90;\n        \n        .opblock-summary-method {\n          background: #49cc90;\n        }\n      }\n      \n      &.opblock-put {\n        border-color: #fca130;\n        \n        .opblock-summary-method {\n          background: #fca130;\n        }\n      }\n      \n      &.opblock-delete {\n        border-color: #f93e3e;\n        \n        .opblock-summary-method {\n          background: #f93e3e;\n        }\n      }\n    }\n  }\n`;\n\nconst ApiInfo = styled(Card)`\n  margin-bottom: ${props => props.theme.spacing[6]};\n`;\n\nconst SwaggerViewer: React.FC = () => {\n  const { repoName } = useParams<{ repoName: string }>();\n  const [searchParams] = useSearchParams();\n  const filePath = searchParams.get('file');\n  const [specUrl, setSpecUrl] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [apiInfo, setApiInfo] = useState<any>(null);\n\n  useEffect(() => {\n    if (filePath) {\n      fetchApiSpec();\n    }\n  }, [filePath, repoName]);\n\n  const fetchApiSpec = async () => {\n    try {\n      // First, get the raw file content\n      const response = await fetch(getApiUrl(`/api/repository/${repoName}/file?path=${encodeURIComponent(filePath!)}`));\n      if (!response.ok) {\n        throw new Error('Failed to fetch API specification');\n      }\n      \n      const content = await response.text();\n      \n      // Parse to extract basic info\n      try {\n        const spec = JSON.parse(content);\n        setApiInfo({\n          title: spec.info?.title || 'API Documentation',\n          version: spec.info?.version || '1.0.0',\n          description: spec.info?.description || '',\n          servers: spec.servers || [],\n          paths: Object.keys(spec.paths || {}).length\n        });\n      } catch (e) {\n        // If it's YAML, we'll just display it as-is\n      }\n      \n      // Create a blob URL for SwaggerUI\n      const blob = new Blob([content], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      setSpecUrl(url);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // Cleanup blob URL\n    return () => {\n      if (specUrl) {\n        URL.revokeObjectURL(specUrl);\n      }\n    };\n  }, [specUrl]);\n\n  if (loading) {\n    return <FullPageLoading text=\"Loading API specification...\" />;\n  }\n\n  if (error || !specUrl) {\n    return (\n      <Container maxWidth=\"lg\">\n        <Section>\n          <H1 color=\"secondary\">⚠️ Error Loading API</H1>\n          <Text color=\"secondary\">{error || 'No API specification provided'}</Text>\n          <Button as={Link} to={`/api-explorer/${repoName}`}>\n            Back to API Explorer\n          </Button>\n        </Section>\n      </Container>\n    );\n  }\n\n  return (\n    <>\n      <PageHeader>\n        <Container maxWidth=\"lg\">\n          <BackButton as={Link} to={`/api-explorer/${repoName}`}>\n            <ArrowLeft size={20} />\n            Back to API Explorer\n          </BackButton>\n          \n          <H1 style={{ color: theme.colors.primary.white, marginBottom: theme.spacing[4] }}>\n            <FileCode size={32} style={{ marginRight: theme.spacing[3], verticalAlign: 'middle' }} />\n            {apiInfo?.title || 'API Documentation'}\n          </H1>\n          \n          {apiInfo && (\n            <Flex gap={3} wrap>\n              <Badge variant=\"success\" size=\"lg\">Version {apiInfo.version}</Badge>\n              {apiInfo.paths > 0 && (\n                <Badge size=\"lg\">{apiInfo.paths} Endpoints</Badge>\n              )}\n              <Badge size=\"lg\">OpenAPI</Badge>\n            </Flex>\n          )}\n        </Container>\n      </PageHeader>\n\n      <Container maxWidth=\"xl\">\n        <Section spacing=\"large\">\n          {apiInfo && apiInfo.description && (\n            <ApiInfo>\n              <CardHeader>\n                <CardTitle>About this API</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <Text>{apiInfo.description}</Text>\n              </CardContent>\n            </ApiInfo>\n          )}\n\n          <Flex justify=\"end\" gap={3} style={{ marginBottom: theme.spacing[4] }}>\n            <Button\n              as=\"a\"\n              href={`/api/repository/${repoName}/file?path=${encodeURIComponent(filePath!)}&download=true`}\n              download\n              variant=\"outline\"\n            >\n              <Download size={20} />\n              Download Spec\n            </Button>\n            <Button\n              as=\"a\"\n              href={`https://editor.swagger.io/?url=${encodeURIComponent(window.location.origin + specUrl)}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              variant=\"outline\"\n            >\n              <ExternalLink size={20} />\n              Open in Swagger Editor\n            </Button>\n          </Flex>\n\n          <SwaggerContainer>\n            <SwaggerUI \n              url={specUrl}\n              docExpansion=\"list\"\n              defaultModelsExpandDepth={1}\n              displayRequestDuration={true}\n              tryItOutEnabled={true}\n            />\n          </SwaggerContainer>\n        </Section>\n      </Container>\n    </>\n  );\n};\n\nexport default SwaggerViewer;"],"names":["PageHeader","styled","div","props","theme","colors","primary","black","secondary","darkGray","spacing","BackButton","Button","yellow","SwaggerContainer","background","borderRadius","lg","shadows","typography","fontFamily","md","fontWeight","semibold","ApiInfo","Card","SwaggerViewer","repoName","useParams","searchParams","useSearchParams","filePath","get","specUrl","setSpecUrl","useState","loading","setLoading","error","setError","apiInfo","setApiInfo","useEffect","fetchApiSpec","async","response","fetch","getApiUrl","encodeURIComponent","ok","Error","content","text","_spec$info","_spec$info2","_spec$info3","spec","JSON","parse","title","info","version","description","servers","paths","Object","keys","length","e","blob","Blob","type","url","URL","createObjectURL","err","message","revokeObjectURL","_jsx","FullPageLoading","Container","maxWidth","children","_jsxs","Section","H1","color","Text","as","Link","to","_Fragment","ArrowLeft","size","style","white","marginBottom","FileCode","marginRight","verticalAlign","Flex","gap","wrap","Badge","variant","CardHeader","CardTitle","CardContent","justify","href","download","Download","window","location","origin","target","rel","ExternalLink","SwaggerUI","docExpansion","defaultModelsExpandDepth","displayRequestDuration","tryItOutEnabled"],"sourceRoot":""}