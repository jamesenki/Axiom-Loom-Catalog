<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="600" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="600" height="800" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="300" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Toyota SmartPath Process Flow</text>
  
  <!-- Step 1: Dealer -->
  <rect x="200" y="70" width="200" height="60" rx="5" fill="#232F3E" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="105" font-family="Arial" font-size="16" text-anchor="middle" fill="#FFFFFF">Dealer</text>
  <text x="300" y="125" font-family="Arial" font-size="12" text-anchor="middle" fill="#FFFFFF">Submit configuration</text>
  
  <!-- Arrow -->
  <line x1="300" y1="130" x2="300" y2="160" stroke="#879596" stroke-width="2" />
  <polygon points="300,160 295,150 305,150" fill="#879596" />
  
  <!-- Step 2: Cognito Auth -->
  <rect x="200" y="160" width="200" height="60" rx="5" fill="#FF9900" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="195" font-family="Arial" font-size="16" text-anchor="middle" fill="#232F3E">Cognito Auth</text>
  <text x="300" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Verify dealer credentials</text>
  
  <!-- Arrow -->
  <line x1="300" y1="220" x2="300" y2="250" stroke="#879596" stroke-width="2" />
  <polygon points="300,250 295,240 305,240" fill="#879596" />
  
  <!-- Step 3: API Gateway -->
  <rect x="200" y="250" width="200" height="60" rx="5" fill="#146EB4" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="285" font-family="Arial" font-size="16" text-anchor="middle" fill="#FFFFFF">API Gateway</text>
  <text x="300" y="305" font-family="Arial" font-size="12" text-anchor="middle" fill="#FFFFFF">Route request to workflow</text>
  
  <!-- Arrow -->
  <line x1="300" y1="310" x2="300" y2="340" stroke="#879596" stroke-width="2" />
  <polygon points="300,340 295,330 305,330" fill="#879596" />
  
  <!-- Step 4: Step Functions -->
  <rect x="200" y="340" width="200" height="60" rx="5" fill="#FF4F8B" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="375" font-family="Arial" font-size="16" text-anchor="middle" fill="#FFFFFF">Step Functions</text>
  <text x="300" y="395" font-family="Arial" font-size="12" text-anchor="middle" fill="#FFFFFF">Orchestrate workflow</text>
  
  <!-- Arrow -->
  <line x1="300" y1="400" x2="300" y2="430" stroke="#879596" stroke-width="2" />
  <polygon points="300,430 295,420 305,420" fill="#879596" />
  
  <!-- Step Function Detail Box -->
  <rect x="150" y="430" width="300" height="120" rx="5" fill="#f0f8ff" stroke="#b3d7ff" stroke-width="2" />
  <text x="300" y="450" font-family="Arial" font-size="14" text-anchor="middle" fill="#0066cc" font-weight="bold">Step Function Workflow</text>
  
  <!-- Step Function Steps -->
  <rect x="170" y="460" width="260" height="20" rx="3" fill="#FFFFFF" stroke="#b3d7ff" stroke-width="1" />
  <text x="180" y="475" font-family="Arial" font-size="12" fill="#232F3E">1. Validate dealer configuration</text>
  
  <rect x="170" y="485" width="260" height="20" rx="3" fill="#FFFFFF" stroke="#b3d7ff" stroke-width="1" />
  <text x="180" y="500" font-family="Arial" font-size="12" fill="#232F3E">2. Version and store dealer config</text>
  
  <rect x="170" y="510" width="260" height="20" rx="3" fill="#FFFFFF" stroke="#b3d7ff" stroke-width="1" />
  <text x="180" y="525" font-family="Arial" font-size="12" fill="#232F3E">3. Submit to Carlton for pricing</text>
  
  <!-- Arrow -->
  <line x1="300" y1="550" x2="300" y2="580" stroke="#879596" stroke-width="2" />
  <polygon points="300,580 295,570 305,570" fill="#879596" />
  
  <!-- Step 5: Carlton API -->
  <rect x="200" y="580" width="200" height="60" rx="5" fill="#FF9900" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="615" font-family="Arial" font-size="16" text-anchor="middle" fill="#232F3E">Carlton API</text>
  <text x="300" y="635" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Price calculation</text>
  
  <!-- Arrow -->
  <line x1="300" y1="640" x2="300" y2="670" stroke="#879596" stroke-width="2" />
  <polygon points="300,670 295,660 305,660" fill="#879596" />
  
  <!-- Step 6: Decision -->
  <polygon points="300,670 350,700 300,730 250,700" fill="#FF9900" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="695" font-family="Arial" font-size="16" text-anchor="middle" fill="#232F3E">Decision</text>
  <text x="300" y="715" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Price changes?</text>
  
  <!-- Decision Paths -->
  <text x="270" y="750" font-family="Arial" font-size="12" text-anchor="end" fill="#28a745">No</text>
  <text x="330" y="750" font-family="Arial" font-size="12" text-anchor="start" fill="#dc3545">Yes</text>
  
  <!-- No Path Arrow -->
  <line x1="250" y1="700" x2="200" y2="700" stroke="#28a745" stroke-width="2" />
  <line x1="200" y1="700" x2="200" y2="770" stroke="#28a745" stroke-width="2" />
  <line x1="200" y1="770" x2="300" y2="770" stroke="#28a745" stroke-width="2" />
  <polygon points="300,770 290,765 290,775" fill="#28a745" />
  
  <!-- Yes Path Arrow -->
  <line x1="350" y1="700" x2="400" y2="700" stroke="#dc3545" stroke-width="2" />
  <line x1="400" y1="700" x2="400" y2="770" stroke="#dc3545" stroke-width="2" />
  <line x1="400" y1="770" x2="350" y2="770" stroke="#dc3545" stroke-width="2" />
  <polygon points="350,770 360,765 360,775" fill="#dc3545" />
  
  <!-- Step 7: Storage/Approval -->
  <rect x="250" y="770" width="100" height="60" rx="5" fill="#4053D6" stroke="#232F3E" stroke-width="2" />
  <text x="300" y="800" font-family="Arial" font-size="14" text-anchor="middle" fill="#FFFFFF">DynamoDB</text>
  <text x="300" y="820" font-family="Arial" font-size="10" text-anchor="middle" fill="#FFFFFF">Store configurations</text>
  
  <!-- Approval Box -->
  <rect x="400" y="770" width="100" height="60" rx="5" fill="#dc3545" stroke="#232F3E" stroke-width="2" />
  <text x="450" y="800" font-family="Arial" font-size="14" text-anchor="middle" fill="#FFFFFF">Approval</text>
  <text x="450" y="820" font-family="Arial" font-size="10" text-anchor="middle" fill="#FFFFFF">Requires approval</text>
</svg>